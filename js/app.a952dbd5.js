(function(){"use strict";var e={879:function(e,t,n){var a=n(963),r=n(823),o=n(252);function s(e,t,n,a,r,s){var i=(0,o.up)("Home");return(0,o.wg)(),(0,o.j4)(i)}var i=n(577),m=function(e){return(0,o.dD)("data-v-05961770"),e=e(),(0,o.Cn)(),e},u={class:"turn-banner"},l={key:0},c=m((function(){return(0,o._)("h2",null,"Responses",-1)})),p={key:1};function d(e,t,n,r,s,m){var d=(0,o.up)("menu-bar"),g=(0,o.up)("Claim"),f=(0,o.up)("Response"),v=(0,o.up)("Button"),y=(0,o.up)("InputText"),h=(0,o.up)("Dialog"),k=(0,o.up)("Version");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.wy)((0,o._)("h3",u," YOU ARE THE JUDGE ",512),[[a.F8,e.playerName===e.game.playerTurn]]),(0,o.Wm)(d,{model:e.menuItems},null,8,["model"]),e.game.gameStarted&&e.playerName?((0,o.wg)(),(0,o.iD)("div",l,[(0,o.wy)((0,o._)("div",null,(0,i.zw)(e.game.playerTurn)+"'s turn",513),[[a.F8,e.game.playerTurn]]),(0,o.Wm)(g,{getClaim:e.getClaim},null,8,["getClaim"]),(0,o.wy)((0,o._)("div",null,[(0,o.Wm)(f,{onPostResponse:e.postResponse,onNext:e.next},null,8,["onPostResponse","onNext"])],512),[[a.F8,e.game.statement&&e.playerName]]),c,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.game.players.filter((function(t){return t.name!==e.playerTurn})),(function(t){return(0,o.wg)(),(0,o.iD)("p",{key:t.name},(0,i.zw)(t.name)+": "+(0,i.zw)(e.getResponse(t)),1)})),128)),e.playerName===e.game.playerTurn?((0,o.wg)(),(0,o.j4)(v,{key:0,class:"next-button",onClick:e.next},{default:(0,o.w5)((function(){return[(0,o.Uk)("Next")]})),_:1},8,["onClick"])):(0,o.kq)("",!0)])):((0,o.wg)(),(0,o.iD)("div",p,[(0,o.Wm)(v,{onClick:t[0]||(t[0]=function(t){return e.addingName=!0})},{default:(0,o.w5)((function(){return[(0,o.Uk)("Start or enter game")]})),_:1})])),(0,o.Wm)(h,{header:"Input Name",visible:e.addingName,"onUpdate:visible":t[2]||(t[2]=function(t){return e.addingName=t})},{default:(0,o.w5)((function(){return[(0,o.Wm)(y,{placeholder:"Player name",modelValue:e.playerNameInput,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.playerNameInput=t}),onKeyup:(0,a.D2)(e.enterGame,["enter"])},null,8,["modelValue","onKeyup"]),(0,o.Wm)(v,{label:"Submit",onClick:e.enterGame},null,8,["onClick"])]})),_:1},8,["visible"]),(0,o.Wm)(h,{header:"Input Statement",visible:e.addingStatement,"onUpdate:visible":t[4]||(t[4]=function(t){return e.addingStatement=t})},{default:(0,o.w5)((function(){return[(0,o.Wm)(y,{placeholder:"Statement",modelValue:e.statementInput,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.statementInput=t}),onKeyup:(0,a.D2)(e.submitStatement,["enter"])},null,8,["modelValue","onKeyup"]),(0,o.Wm)(v,{label:"Submit",onClick:e.submitStatement},null,8,["onClick"])]})),_:1},8,["visible"]),(0,o.Wm)(k)],64)}var g=n(582),f=n(907),v=n(634),y=n(185),h=n(772),k=n(108),w={class:"button-container"};function S(e,t,n,r,s,i){var m=(0,o.up)("Button");return(0,o.wg)(),(0,o.iD)("div",w,[(0,o.wy)((0,o.Wm)(m,{class:"yes-button",onClick:t[0]||(t[0]=function(t){return e.response="yes"})},{default:(0,o.w5)((function(){return[(0,o.Uk)("Yes")]})),_:1},512),[[a.F8,"yes"!==e.response]]),(0,o.wy)((0,o.Wm)(m,{class:"chosen yes-button"},{default:(0,o.w5)((function(){return[(0,o.Uk)("Yes")]})),_:1},512),[[a.F8,"yes"===e.response]]),(0,o.wy)((0,o.Wm)(m,{class:"no-button",onClick:t[1]||(t[1]=function(t){return e.response="no"})},{default:(0,o.w5)((function(){return[(0,o.Uk)("No")]})),_:1},512),[[a.F8,"no"!==e.response]]),(0,o.wy)((0,o.Wm)(m,{class:"chosen no-button"},{default:(0,o.w5)((function(){return[(0,o.Uk)("No")]})),_:1},512),[[a.F8,"no"===e.response]]),(0,o.Wm)(m,{class:"submit-button",onClick:t[2]||(t[2]=function(t){return e.$emit("postResponse",e.response)})},{default:(0,o.w5)((function(){return[(0,o.Uk)("Submit")]})),_:1})])}var b=(0,o.aZ)({name:"Answer",components:{Button:k.Z},props:[],data:function(){return{response:""}},methods:{},mounted:function(){}}),N=n(744);const C=(0,N.Z)(b,[["render",S],["__scopeId","data-v-328a2066"]]);var _=C,T={key:0};function I(e,t,n,a,r,s){return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("h1",null,(0,i.zw)(e.game.statement),1),"Game over."===e.game.statement?((0,o.wg)(),(0,o.iD)("p",T," (Add more statements from the menu to play longer games) ")):(0,o.kq)("",!0)],64)}var x=(0,o.aZ)({name:"Claim",props:{getClaim:{type:Function,required:!0}},data:function(){return{}},computed:(0,g.pi)({},(0,f.rn)(["game","playerName"])),mounted:function(){this.game.gameStarted&&this.game.playerTurn===this.playerName&&!this.game.statement&&this.getClaim()}});const G=(0,N.Z)(x,[["render",I]]);var O=G;function W(e,t,n,a,r,s){return(0,o.wg)(),(0,o.iD)("p",null,"Version: "+(0,i.zw)(e.version),1)}var Z=(0,o.aZ)({name:"Version",data:function(){return{version:n(147).i8}}});const D=(0,N.Z)(Z,[["render",W]]);var R=D,U=(0,o.aZ)({components:{Response:_,Claim:O,MenuBar:v.Z,Dialog:y.Z,InputText:h.Z,Button:k.Z,Version:R},data:function(){return{socket:null,playerNameInput:"",menuItems:[],addingName:!1,addingStatement:!1,statementInput:""}},computed:(0,g.pi)({},(0,f.rn)(["game","playerName"])),watch:{game:function(e){var t=this;this.menuItems=[{label:e.gameStarted?"Leave game":"Enter game",command:function(){e.gameStarted?t.$store.dispatch("leaveGame",t.socket):t.$store.dispatch("showNameModal",{socket:t.socket,player:t.playerName})}},{label:"Add statement",command:function(){t.addingStatement=!0}}]}},mounted:function(){var e=this;console.log("ws://localhost:3000"),this.socket=new WebSocket("ws://localhost:3000"),this.socket.onopen=function(){console.log("socket server connected!")},this.socket.onclose=function(){console.log("socket server disconnected")},this.socket.onerror=function(e){console.log("socket server error: ".concat(e))},this.socket.onmessage=function(t){console.log(t.data),e.$store.commit("updateGame",JSON.parse(t.data))};var t=JSON.parse(localStorage.getItem("vuex"));if(t){var n=t.game,a=(0,g.ev)((0,g.ev)([],n.remainingStatements,!0),n.viewedStatements,!0);this.$store.commit("updateStatements",a)}var r=this.game.gameStarted?"Leave game":"Enter game";this.menuItems=[{label:r,command:function(){"Leave game"===r?e.$store.dispatch("leaveGame",e.socket):e.addingName=!0}},{label:"Add statement",command:function(){e.addingStatement=!0}}]},methods:{enterGame:function(){this.$store.dispatch("enterGame",{socket:this.socket,player:this.playerNameInput}),this.addingName=!1},getClaim:function(){this.$store.dispatch("getClaim",this.socket)},getResponse:function(e){var t=this,n=this.game.players.find((function(e){return e.name===t.game.playerTurn})).response,a=this.game.players.find((function(e){return e.name===t.playerName})).response;return n&&a?e.response:""===e.response?"":"********"},postResponse:function(e){this.$store.dispatch("postResponse",{socket:this.socket,response:e,player:this.playerName})},next:function(e){this.$store.dispatch("nextTurn",this.socket),this.$store.dispatch("getClaim",this.socket)},submitStatement:function(){this.$store.dispatch("submitStatement",{socket:this.socket,statement:this.statementInput}),this.addingStatement=!1}}});const j=(0,N.Z)(U,[["render",d],["__scopeId","data-v-05961770"]]);var $=j,A=(0,o.aZ)({name:"App",components:{Home:$}});const F=(0,N.Z)(A,[["render",s]]);var V=F,E=n(205);(0,E.z)("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var B=n(702),z={playerName:"",game:{gameStarted:!1,playerTurn:"",players:[],statement:"",remainingStatements:["Bigfoot is real","The Earth is flat","Aliens are real"],viewedStatements:[]}},H=(0,f.MT)({state:z,getters:{},mutations:{updateState:function(e,t){Object.assign(e,t)},updateGame:function(e,t){Object.assign(e.game,t)},updateStatements:function(e,t){var n=new Set((0,g.ev)((0,g.ev)([],e.game.remainingStatements,!0),t,!0));Object.assign(e.game.remainingStatements,Array.from(n))}},actions:{enterGame:function(e,t){var n=e.commit,a=e.state;console.log(a.game);var r={game:(0,g.pi)((0,g.pi)({},a.game),{players:(0,g.ev)((0,g.ev)([],a.game.players.filter((function(e){return e.name!==t.player})),!0),[{name:t.player,response:""}],!1),gameStarted:!0,playerTurn:a.game.players.length?a.game.playerTurn:t.player}),playerName:t.player};P(t.socket,r.game),n("updateState",r)},getClaim:function(e,t){var n=e.commit,a=e.state;if(!a.game.remainingStatements.length){var r="Game over.",o={statement:r,remainingStatements:a.game.viewedStatements,viewedStatements:[]};return n("updateGame",o),void P(t,o)}var s=a.game.remainingStatements[Y(a.game.remainingStatements.length)],i={statement:s,remainingStatements:a.game.remainingStatements.filter((function(e){return e!==s})),viewedStatements:(0,g.ev)((0,g.ev)([],a.game.viewedStatements,!0),[s],!1)};P(t,i),n("updateGame",i)},leaveGame:function(e,t){var n=e.commit,a=e.state,r={game:(0,g.pi)((0,g.pi)({},a.game),{players:a.game.players.filter((function(e){return e.name!==a.playerName}))}),playerName:""};P(t,r.game),n("updateState",r)},postResponse:function(e,t){var n=e.commit,a=e.state,r=(0,g.pi)((0,g.pi)({},a.game),{players:a.game.players.map((function(e){return e.name===t.player?(0,g.pi)((0,g.pi)({},e),{response:t.response}):e}))});P(t.socket,r),n("updateGame",r)},nextTurn:function(e,t){var n=e.commit,a=e.state,r=(0,g.pi)((0,g.pi)({},a.game),{playerTurn:a.game.players[(a.game.players.findIndex((function(e){return e.name===a.game.playerTurn}))+1)%a.game.players.length].name,players:a.game.players.map((function(e){return(0,g.pi)((0,g.pi)({},e),{response:""})}))});P(t,r),n("updateGame",r)},submitStatement:function(e,t){var n=e.commit,a=e.state,r=(0,g.pi)((0,g.pi)({},a.game),{remainingStatements:(0,g.ev)((0,g.ev)([],a.game.remainingStatements,!0),[t.statement],!1)});P(t.socket,r),n("updateGame",r)}},modules:{},plugins:[(0,B.Z)()]});function P(e,t){e.send(JSON.stringify(t))}function Y(e){return Math.floor(Math.random()*e)}var K=H;(0,a.ri)(V).use(K).use(r.ZP).mount("#app")},147:function(e){e.exports={i8:"0.3.0"}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,o){if(!a){var s=1/0;for(l=0;l<e.length;l++){a=e[l][0],r=e[l][1],o=e[l][2];for(var i=!0,m=0;m<a.length;m++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[m])}))?a.splice(m--,1):(i=!1,o<s&&(s=o));if(i){e.splice(l--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[a,r,o]}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,s=a[0],i=a[1],m=a[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(m)var l=m(n)}for(t&&t(a);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},a=self["webpackChunkyes_or_no"]=self["webpackChunkyes_or_no"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(879)}));a=n.O(a)})();
//# sourceMappingURL=app.a952dbd5.js.map